{"resourceType":"StructureMap","id":"SDOHCC-StructureMapHungerVitalSign","text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\"><pre class=\"fml\">\r\n<b>map</b><span style=\"color: navy\"> &quot;</span>http://hl7.org/fhir/us/sdoh-clinicalcare/StructureMap/SDOHCC-StructureMapHungerVitalSign<span style=\"color: navy\">&quot; = &quot;</span>SDOHCCStructureMapHungerVitalSign<span style=\"color: navy\">&quot;\r\n\r\n</span><b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"http://hl7.org/fhir/uv/sdc/STU3/StructureDefinition-sdc-questionnaireresponse.html\" title=\"SDC Questionnaire Response\">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse</a><span style=\"color: navy\">&quot; </span><b>alias </b>questionnaireResponse <b>as </b><b>source</b>\r\n<b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"http://hl7.org/fhir/R4/bundle.html\" title=\"Bundle\">http://hl7.org/fhir/StructureDefinition/Bundle</a><span style=\"color: navy\">&quot; </span><b>as </b><b>target</b>\r\n<b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"http://hl7.org/fhir/R4/observation.html\" title=\"Observation\">http://hl7.org/fhir/StructureDefinition/Observation</a><span style=\"color: navy\">&quot; </span><b>as </b><b>target</b>\r\n<b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"StructureDefinition-SDOHCC-Condition.html\" title=\"SDOHCC Condition\">http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition</a><span style=\"color: navy\">&quot; </span><b>alias </b>sdohccCondition <b>as </b><b>target</b>\r\n<b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"StructureDefinition-SDOHCC-ObservationScreeningResponse.html\" title=\"SDOHCC Observation Screening Response\">http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse</a><span style=\"color: navy\">&quot; </span><b>alias </b>sdohccObservation <b>as </b><b>target</b>\r\n\r\n<b>group </b>sdohMapping<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>target</b> <span style=\"color: maroon\">bundle</span><span style=\"color: navy\"> : </span>Bundle<span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>bundle.id = <span style=\"color: blue\">'SDOHCC-BundleHungerVitalSignExample'</span> <i>&quot;bundle-id&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>bundle.type = <span style=\"color: blue\">'transaction'</span> <i>&quot;bundle-type&quot;</i><span style=\"color: navy\">;</span>\r\n  src.item<b> as </b><span style=\"color: maroon\">answerItem1</span><b> where </b>linkId = '/88122-7'<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccObservation'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">observation1</span><b> then </b>TransformObservation<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem1</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation1</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">, </span>TransformObservation1<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem1</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation1</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n  src.item<b> as </b><span style=\"color: maroon\">answerItem2</span><b> where </b>linkId = '/88123-5'<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccObservation'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">observation2</span><b> then </b>TransformObservation<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem2</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation2</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">, </span>TransformObservation2<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem2</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation2</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n  src.item<b> as </b><span style=\"color: maroon\">answerItem3</span><b> where </b>linkId = '/88124-3'<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccObservation'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">observation3</span><b> then </b>TransformObservation<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem3</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation3</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">, </span>TransformObservation3<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem3</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation3</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccObservation'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">groupObservation</span><b> then </b>TransformGroupObservation<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">groupObservation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;group-obsn&quot;</i><span style=\"color: navy\">;</span>\r\n  src.item<b> where </b>(linkId = '/88124-3') and (answer.value.code = 'LA19952-3')<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccCondition'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">condition</span><b> then </b>TransformCondition<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">condition</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformObservation<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">answerItem</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\"> : </span>sdohccObservation, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.status = <span style=\"color: blue\">'final'</span> <i>&quot;obsn-status&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.meta = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Meta'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newMeta</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newMeta.profile = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse'</span> <i>&quot;obsn-meta-profile&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-meta&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/observation-category'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'social-history'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Social History'</span><span style=\"color: navy\">)</span> <i>&quot;obsn-cat-social-hist&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/observation-category'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'survey'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Survey'</span><span style=\"color: navy\">)</span> <i>&quot;obsn-cat-survey&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'food-insecurity'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Food Insecurity'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n  src.authored<b> as </b><span style=\"color: maroon\">authored</span><span style=\"color: navy\"><b> -&gt; </b></span> observation.issued = <span style=\"color: maroon\">authored</span><span style=\"color: navy\">, </span> observation.effective = <span style=\"color: maroon\">authored</span><span style=\"color: navy\">;</span>\r\n  answerItem.answer<b> as </b><span style=\"color: maroon\">answer</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.value = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    answer.value<b> as </b><span style=\"color: maroon\">coding</span><span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <span style=\"color: maroon\">coding</span><b> as </b><span style=\"color: maroon\">newCoding</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.subject = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>entry.request<b> as </b><span style=\"color: maroon\">request</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>request.method = <span style=\"color: blue\">'POST'</span> <i>&quot;obsn-request-method&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>request.url = <span style=\"color: blue\">'Observation'</span> <i>&quot;obsn-request-url&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-entry-request&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformObservation1<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">item</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\"> : </span>sdohccObservation, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.id = <span style=\"color: blue\">'SDOHCC-ObservationResponseHungerVitalSignQuestion1Example'</span><b> then </b>SetObservationFullUrl<span style=\"color: navy\">(</span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;obsn1-id&quot;</i><span style=\"color: navy\">;</span>\r\n  item<b> as </b><span style=\"color: maroon\">i</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'88122-7'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span> <i>&quot;obsn1-code&quot;</i><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.performer = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.derivedFrom = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    id<span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'QuestionnaireResponse/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span> <i>&quot;obsn1-derived-from&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformObservation2<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">item</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\"> : </span>sdohccObservation, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.id = <span style=\"color: blue\">'SDOHCC-ObservationResponseHungerVitalSignQuestion2Example'</span><b> then </b>SetObservationFullUrl<span style=\"color: navy\">(</span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;obns2-id&quot;</i><span style=\"color: navy\">;</span>\r\n  item<b> as </b><span style=\"color: maroon\">i</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'88123-5'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span> <i>&quot;obns2-code&quot;</i><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.performer = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.derivedFrom = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    id<span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'QuestionnaireResponse/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span> <i>&quot;obsn2-derived-from&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformObservation3<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">item</span>, <b>source</b> <span style=\"color: maroon\">bundle</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\"> : </span>sdohccObservation, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.id = <span style=\"color: blue\">'SDOHCC-ObservationResponseHungerVitalSignQuestion3Example'</span><b> then </b>SetObservationFullUrl<span style=\"color: navy\">(</span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;obsn3-id&quot;</i><span style=\"color: navy\">;</span>\r\n  item<b> as </b><span style=\"color: maroon\">i</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'88124-3'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span> <i>&quot;obsn3-code&quot;</i><span style=\"color: navy\">;</span>\r\n  bundle.entry<b> as </b><span style=\"color: maroon\">entries</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.derivedFrom = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">df</span><b> then </b>TransformObservationDerived<span style=\"color: navy\">(</span><span style=\"color: maroon\">entries</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">df</span><span style=\"color: navy\">)</span> <i>&quot;obsn3-derivedFrom&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformObservationDerived<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">entries</span>, <b>target</b> <span style=\"color: maroon\">df</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  entries.resource<b> as </b><span style=\"color: maroon\">obs1</span><b> where </b>code.coding.code = '88122-7'<span style=\"color: navy\"><b> -&gt; </b></span>df.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs1</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n  entries.resource<b> as </b><span style=\"color: maroon\">obs2</span><b> where </b>code.coding.code = '88123-5'<span style=\"color: navy\"><b> -&gt; </b></span>df.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs2</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformGroupObservation<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">bundle</span><span style=\"color: navy\"> : </span>Bundle, <b>target</b> <span style=\"color: maroon\">groupObservation</span><span style=\"color: navy\"> : </span>Observation, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.meta = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Meta'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newMeta</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newMeta.profile = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse'</span> <i>&quot;grp-obsn-meta-profile&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;grp-obsn-meta&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.id = <span style=\"color: blue\">'SDOHCC-ObservationResponseHungerVitalSignGroupingExample'</span><b> then </b>SetObservationFullUrl<span style=\"color: navy\">(</span><span style=\"color: maroon\">groupObservation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-full-url&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.status = <span style=\"color: blue\">'final'</span> <i>&quot;grp-obsn-full-status&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.category = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/observation-category'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'social-history'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Social History'</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-cat-social-history&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.category = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/observation-category'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'survey'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Survey'</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-cat-survey&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;grp-obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'food-insecurity'</span> <i>&quot;grp-obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Food Insecurity'</span> <i>&quot;grp-obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;grp-obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;grp-obsn-cat-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n  src.authored<b> as </b><span style=\"color: maroon\">authored</span><span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.effective = <span style=\"color: maroon\">authored</span> <i>&quot;grp-obsn-authored&quot;</i><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.subject = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'88121-9'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Hunger Vital Sign [HVS]'</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-code&quot;</i><span style=\"color: navy\">;</span>\r\n  bundle.entry<b> as </b><span style=\"color: maroon\">entries</span><span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.hasMember = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">df</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    entries.resource<b> as </b><span style=\"color: maroon\">obs1</span><b> where </b>code.coding.code = '88122-7'<span style=\"color: navy\"><b> -&gt; </b></span>df.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs1</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n    entries.resource<b> as </b><span style=\"color: maroon\">obs2</span><b> where </b>code.coding.code = '88123-5'<span style=\"color: navy\"><b> -&gt; </b></span>df.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs2</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n    entries.resource<b> as </b><span style=\"color: maroon\">obs3</span><b> where </b>code.coding.code = '88124-3'<span style=\"color: navy\"><b> -&gt; </b></span>df.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs3</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.derivedFrom = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    id<span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'QuestionnaireResponse/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-derived-from&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>entry.request<b> as </b><span style=\"color: maroon\">request</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>request.method = <span style=\"color: blue\">'POST'</span> <i>&quot;grp-obsn-request-method&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>request.url = <span style=\"color: blue\">'Observation'</span> <i>&quot;grp-obsn-request-url&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;grp-obsn-entry-request&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetObservationFullUrl<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\"> : </span>Observation, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  observation.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>entry.fullUrl = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/Observation/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformCondition<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">bundle</span>, <b>target</b> <span style=\"color: maroon\">condition</span><span style=\"color: navy\"> : </span>sdohccCondition, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.id = <span style=\"color: blue\">'SDOHCC-ConditionFoodInsecurityExample'</span><b> then </b>SetConditionFullUrl<span style=\"color: navy\">(</span><span style=\"color: maroon\">condition</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;condition-id&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.meta = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Meta'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newMeta</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newMeta.profile = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition'</span> <i>&quot;condition-meta-profile&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-meta&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.clinicalStatus = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/condition-clinical'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'active'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Active'</span><span style=\"color: navy\">)</span> <i>&quot;condition-clinical-status&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.verificationStatus = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/condition-ver-status'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'unconfirmed'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Unconfirmed'</span><span style=\"color: navy\">)</span> <i>&quot;condition-veri-status&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/core/CodeSystem/condition-category'</span> <i>&quot;condition-cat-coding-system-health-concern&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'health-concern'</span> <i>&quot;condition-cat-coding-code-health-concern&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Health Concern'</span> <i>&quot;condition-cat-coding-display-health-concern&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-cat-coding-health-concern&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-cat-health-concern&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;condition-cat-coding-system-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'food-insecurity'</span> <i>&quot;condition-cat-coding-code-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Food Insecurity'</span> <i>&quot;condition-cat-coding-display-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-cat-coding-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-cat-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.code = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCodeCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCodeCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://snomed.info/sct'</span> <i>&quot;condition-code-coding-system-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'733423003'</span> <i>&quot;condition-code-coding-code-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Food insecurity'</span> <i>&quot;condition-code-coding-display-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-code-coding-food-insecurity&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>newCodeCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding2</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.system = <span style=\"color: blue\">'http://hl7.org/fhir/sid/icd-10-cm'</span> <i>&quot;condition-code-coding-system-lack-of-food&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.code = <span style=\"color: blue\">'Z59.4'</span> <i>&quot;condition-code-coding-code-lack-of-food&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.display = <span style=\"color: blue\">'Lack of adequate food and safe drinking water'</span> <i>&quot;condition-code-coding-display-lack-of-food&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-code-coding-lack-of-food&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-code&quot;</i><span style=\"color: navy\">;</span>\r\n  src.authored<b> as </b><span style=\"color: maroon\">authored</span><span style=\"color: navy\"><b> -&gt; </b></span> condition.onset = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Period'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">period</span><span style=\"color: navy\">, </span> period.start = <span style=\"color: maroon\">authored</span><span style=\"color: navy\">;</span>\r\n  bundle.entry<b> as </b><span style=\"color: maroon\">entries</span><span style=\"color: navy\"><b> -&gt; </b></span> condition.evidence<b> as </b><span style=\"color: maroon\">evidence</span><span style=\"color: navy\">, </span> evidence.detail = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">detailReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    entries.resource<b> as </b><span style=\"color: maroon\">obs3</span><b> where </b>code.coding.code = '88124-3'<span style=\"color: navy\"><b> -&gt; </b></span>detailReference.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs3</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>condition.subject = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>entry.request<b> as </b><span style=\"color: maroon\">request</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>request.method = <span style=\"color: blue\">'POST'</span> <i>&quot;condition-request-method&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>request.url = <span style=\"color: blue\">'Condition'</span> <i>&quot;condition-request-url&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-entry-request&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetConditionFullUrl<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">condition</span><span style=\"color: navy\"> : </span>sdohccCondition, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  condition.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>entry.fullUrl = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/Condition/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span></pre></div>"},"url":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureMap/SDOHCC-StructureMapHungerVitalSign","version":"2.0.0-update","name":"SDOHCCStructureMapHungerVitalSign","status":"active","date":"2023-04-10T21:54:48+00:00","publisher":"HL7 International Patient Care WG","contact":[{"name":"HL7 International Patient Care WG","telecom":[{"system":"url","value":"http://www.hl7.org/Special/committees/patientcare"},{"system":"email","value":"patientcare@lists.hl7.org"}]}],"jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America"}]}],"structure":[{"url":"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse","mode":"source","alias":"questionnaireResponse"},{"url":"http://hl7.org/fhir/StructureDefinition/Bundle","mode":"target"},{"url":"http://hl7.org/fhir/StructureDefinition/Observation","mode":"target"},{"url":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition","mode":"target","alias":"sdohccCondition"},{"url":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse","mode":"target","alias":"sdohccObservation"}],"group":[{"name":"sdohMapping","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"bundle","type":"Bundle","mode":"target"}],"rule":[{"name":"bundle-id","source":[{"context":"src"}],"target":[{"context":"bundle","contextType":"variable","element":"id","transform":"copy","parameter":[{"valueString":"SDOHCC-BundleHungerVitalSignExample"}]}]},{"name":"bundle-type","source":[{"context":"src"}],"target":[{"context":"bundle","contextType":"variable","element":"type","transform":"copy","parameter":[{"valueString":"transaction"}]}]},{"name":"item","source":[{"context":"src","element":"item","variable":"answerItem1","condition":"linkId = '/88122-7'"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"observation1","transform":"create","parameter":[{"valueString":"sdohccObservation"}]}],"dependent":[{"name":"TransformObservation","variable":["src","answerItem1","observation1","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]},{"name":"TransformObservation1","variable":["src","answerItem1","observation1","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"item","source":[{"context":"src","element":"item","variable":"answerItem2","condition":"linkId = '/88123-5'"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"observation2","transform":"create","parameter":[{"valueString":"sdohccObservation"}]}],"dependent":[{"name":"TransformObservation","variable":["src","answerItem2","observation2","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]},{"name":"TransformObservation2","variable":["src","answerItem2","observation2","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"item","source":[{"context":"src","element":"item","variable":"answerItem3","condition":"linkId = '/88124-3'"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"observation3","transform":"create","parameter":[{"valueString":"sdohccObservation"}]}],"dependent":[{"name":"TransformObservation","variable":["src","answerItem3","observation3","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]},{"name":"TransformObservation3","variable":["src","answerItem3","bundle","observation3","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"group-obsn","source":[{"context":"src"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"groupObservation","transform":"create","parameter":[{"valueString":"sdohccObservation"}]}],"dependent":[{"name":"TransformGroupObservation","variable":["src","bundle","groupObservation","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"item","source":[{"context":"src","element":"item","condition":"(linkId = '/88124-3') and (answer.value.code = 'LA19952-3')"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"condition","transform":"create","parameter":[{"valueString":"sdohccCondition"}]}],"dependent":[{"name":"TransformCondition","variable":["src","bundle","condition","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]}]},{"name":"TransformObservation","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"answerItem","mode":"source"},{"name":"observation","type":"sdohccObservation","mode":"target"},{"name":"entry","mode":"target"}],"rule":[{"name":"obsn-status","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"status","transform":"copy","parameter":[{"valueString":"final"}]}]},{"name":"obsn-meta","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"meta","variable":"newMeta","transform":"create","parameter":[{"valueString":"Meta"}]}],"rule":[{"name":"obsn-meta-profile","source":[{"context":"src"}],"target":[{"context":"newMeta","contextType":"variable","element":"profile","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"}]}]}]},{"name":"obsn-cat-social-hist","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"category","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/observation-category"},{"valueString":"social-history"},{"valueString":"Social History"}]}]},{"name":"obsn-cat-survey","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"category","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/observation-category"},{"valueString":"survey"},{"valueString":"Survey"}]}]},{"name":"obsn-cat-food-insecurity","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"food-insecurity"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Food Insecurity"}]}]}]}]},{"name":"authored","source":[{"context":"src","element":"authored","variable":"authored"}],"target":[{"context":"observation","contextType":"variable","element":"issued","transform":"copy","parameter":[{"valueId":"authored"}]},{"context":"observation","contextType":"variable","element":"effective","transform":"copy","parameter":[{"valueId":"authored"}]}]},{"name":"answer","source":[{"context":"answerItem","element":"answer","variable":"answer"}],"target":[{"context":"observation","contextType":"variable","element":"value","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"value","source":[{"context":"answer","element":"value","variable":"coding"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"copy","parameter":[{"valueId":"coding"}]}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"observation","contextType":"variable","element":"subject","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"obsn-entry-request","source":[{"context":"src"}],"target":[{"context":"entry","contextType":"variable","element":"request","variable":"request"}],"rule":[{"name":"obsn-request-method","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"method","transform":"copy","parameter":[{"valueString":"POST"}]}]},{"name":"obsn-request-url","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"url","transform":"copy","parameter":[{"valueString":"Observation"}]}]}]}]},{"name":"TransformObservation1","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"item","mode":"source"},{"name":"observation","type":"sdohccObservation","mode":"target"},{"name":"entry","mode":"target"}],"rule":[{"name":"obsn1-id","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"id","transform":"copy","parameter":[{"valueString":"SDOHCC-ObservationResponseHungerVitalSignQuestion1Example"}]}],"dependent":[{"name":"SetObservationFullUrl","variable":["observation","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn1-code","source":[{"context":"item","variable":"i"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"88122-7"}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"observation","contextType":"variable","element":"performer","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"id","source":[{"context":"src","element":"id","variable":"id"}],"target":[{"context":"observation","contextType":"variable","element":"derivedFrom","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"obsn1-derived-from","source":[{"context":"id"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"append","parameter":[{"valueString":"QuestionnaireResponse/"},{"valueId":"id"}]}]}]}]},{"name":"TransformObservation2","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"item","mode":"source"},{"name":"observation","type":"sdohccObservation","mode":"target"},{"name":"entry","mode":"target"}],"rule":[{"name":"obns2-id","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"id","transform":"copy","parameter":[{"valueString":"SDOHCC-ObservationResponseHungerVitalSignQuestion2Example"}]}],"dependent":[{"name":"SetObservationFullUrl","variable":["observation","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obns2-code","source":[{"context":"item","variable":"i"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"88123-5"}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"observation","contextType":"variable","element":"performer","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"id","source":[{"context":"src","element":"id","variable":"id"}],"target":[{"context":"observation","contextType":"variable","element":"derivedFrom","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"obsn2-derived-from","source":[{"context":"id"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"append","parameter":[{"valueString":"QuestionnaireResponse/"},{"valueId":"id"}]}]}]}]},{"name":"TransformObservation3","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"item","mode":"source"},{"name":"bundle","mode":"source"},{"name":"observation","type":"sdohccObservation","mode":"target"},{"name":"entry","mode":"target"}],"rule":[{"name":"obsn3-id","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"id","transform":"copy","parameter":[{"valueString":"SDOHCC-ObservationResponseHungerVitalSignQuestion3Example"}]}],"dependent":[{"name":"SetObservationFullUrl","variable":["observation","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn3-code","source":[{"context":"item","variable":"i"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"88124-3"}]}]},{"name":"obsn3-derivedFrom","source":[{"context":"bundle","element":"entry","variable":"entries"}],"target":[{"context":"observation","contextType":"variable","element":"derivedFrom","variable":"df","transform":"create","parameter":[{"valueString":"Reference"}]}],"dependent":[{"name":"TransformObservationDerived","variable":["entries","df"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]}]},{"name":"TransformObservationDerived","typeMode":"none","input":[{"name":"entries","mode":"source"},{"name":"df","mode":"target"}],"rule":[{"name":"resource","source":[{"context":"entries","element":"resource","variable":"obs1","condition":"code.coding.code = '88122-7'"}],"target":[{"context":"df","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs1"}]}]},{"name":"resource","source":[{"context":"entries","element":"resource","variable":"obs2","condition":"code.coding.code = '88123-5'"}],"target":[{"context":"df","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs2"}]}]}]},{"name":"TransformGroupObservation","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"bundle","type":"Bundle","mode":"source"},{"name":"groupObservation","type":"Observation","mode":"target"},{"name":"entry","mode":"target"}],"rule":[{"name":"grp-obsn-meta","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"meta","variable":"newMeta","transform":"create","parameter":[{"valueString":"Meta"}]}],"rule":[{"name":"grp-obsn-meta-profile","source":[{"context":"src"}],"target":[{"context":"newMeta","contextType":"variable","element":"profile","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"}]}]}]},{"name":"grp-obsn-full-url","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"id","transform":"copy","parameter":[{"valueString":"SDOHCC-ObservationResponseHungerVitalSignGroupingExample"}]}],"dependent":[{"name":"SetObservationFullUrl","variable":["groupObservation","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"grp-obsn-full-status","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"status","transform":"copy","parameter":[{"valueString":"final"}]}]},{"name":"grp-obsn-cat-social-history","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"category","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/observation-category"},{"valueString":"social-history"},{"valueString":"Social History"}]}]},{"name":"grp-obsn-cat-survey","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"category","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/observation-category"},{"valueString":"survey"},{"valueString":"Survey"}]}]},{"name":"grp-obsn-cat-food-insecurity","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"grp-obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"grp-obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"grp-obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"food-insecurity"}]}]},{"name":"grp-obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Food Insecurity"}]}]}]}]},{"name":"grp-obsn-authored","source":[{"context":"src","element":"authored","variable":"authored"}],"target":[{"context":"groupObservation","contextType":"variable","element":"effective","transform":"copy","parameter":[{"valueId":"authored"}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"groupObservation","contextType":"variable","element":"subject","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"grp-obsn-code","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"88121-9"},{"valueString":"Hunger Vital Sign [HVS]"}]}]},{"name":"entry","source":[{"context":"bundle","element":"entry","variable":"entries"}],"target":[{"context":"groupObservation","contextType":"variable","element":"hasMember","variable":"df","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"resource","source":[{"context":"entries","element":"resource","variable":"obs1","condition":"code.coding.code = '88122-7'"}],"target":[{"context":"df","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs1"}]}]},{"name":"resource","source":[{"context":"entries","element":"resource","variable":"obs2","condition":"code.coding.code = '88123-5'"}],"target":[{"context":"df","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs2"}]}]},{"name":"resource","source":[{"context":"entries","element":"resource","variable":"obs3","condition":"code.coding.code = '88124-3'"}],"target":[{"context":"df","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs3"}]}]}]},{"name":"id","source":[{"context":"src","element":"id","variable":"id"}],"target":[{"context":"groupObservation","contextType":"variable","element":"derivedFrom","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"grp-obsn-derived-from","source":[{"context":"id"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"append","parameter":[{"valueString":"QuestionnaireResponse/"},{"valueId":"id"}]}]}]},{"name":"grp-obsn-entry-request","source":[{"context":"src"}],"target":[{"context":"entry","contextType":"variable","element":"request","variable":"request"}],"rule":[{"name":"grp-obsn-request-method","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"method","transform":"copy","parameter":[{"valueString":"POST"}]}]},{"name":"grp-obsn-request-url","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"url","transform":"copy","parameter":[{"valueString":"Observation"}]}]}]}]},{"name":"SetObservationFullUrl","typeMode":"none","input":[{"name":"observation","type":"Observation","mode":"source"},{"name":"entry","mode":"target"}],"rule":[{"name":"id","source":[{"context":"observation","element":"id","variable":"id"}],"target":[{"context":"entry","contextType":"variable","element":"fullUrl","transform":"append","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/Observation/"},{"valueId":"id"}]}]}]},{"name":"TransformCondition","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"bundle","mode":"source"},{"name":"condition","type":"sdohccCondition","mode":"target"},{"name":"entry","mode":"target"}],"rule":[{"name":"condition-id","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"id","transform":"copy","parameter":[{"valueString":"SDOHCC-ConditionFoodInsecurityExample"}]}],"dependent":[{"name":"SetConditionFullUrl","variable":["condition","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"condition-meta","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"meta","variable":"newMeta","transform":"create","parameter":[{"valueString":"Meta"}]}],"rule":[{"name":"condition-meta-profile","source":[{"context":"src"}],"target":[{"context":"newMeta","contextType":"variable","element":"profile","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition"}]}]}]},{"name":"condition-clinical-status","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"clinicalStatus","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/condition-clinical"},{"valueString":"active"},{"valueString":"Active"}]}]},{"name":"condition-veri-status","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"verificationStatus","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/condition-ver-status"},{"valueString":"unconfirmed"},{"valueString":"Unconfirmed"}]}]},{"name":"condition-cat-health-concern","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"condition-cat-coding-health-concern","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-cat-coding-system-health-concern","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/core/CodeSystem/condition-category"}]}]},{"name":"condition-cat-coding-code-health-concern","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"health-concern"}]}]},{"name":"condition-cat-coding-display-health-concern","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Health Concern"}]}]}]}]},{"name":"condition-cat-food-insecurity","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"condition-cat-coding-food-insecurity","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-cat-coding-system-food-insecurity","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"condition-cat-coding-code-food-insecurity","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"food-insecurity"}]}]},{"name":"condition-cat-coding-display-food-insecurity","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Food Insecurity"}]}]}]}]},{"name":"condition-code","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"code","variable":"newCodeCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"condition-code-coding-food-insecurity","source":[{"context":"src"}],"target":[{"context":"newCodeCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-code-coding-system-food-insecurity","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://snomed.info/sct"}]}]},{"name":"condition-code-coding-code-food-insecurity","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"733423003"}]}]},{"name":"condition-code-coding-display-food-insecurity","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Food insecurity"}]}]}]},{"name":"condition-code-coding-lack-of-food","source":[{"context":"src"}],"target":[{"context":"newCodeCC","contextType":"variable","element":"coding","variable":"newCoding2","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-code-coding-system-lack-of-food","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/sid/icd-10-cm"}]}]},{"name":"condition-code-coding-code-lack-of-food","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"Z59.4"}]}]},{"name":"condition-code-coding-display-lack-of-food","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Lack of adequate food and safe drinking water"}]}]}]}]},{"name":"authored","source":[{"context":"src","element":"authored","variable":"authored"}],"target":[{"context":"condition","contextType":"variable","element":"onset","variable":"period","transform":"create","parameter":[{"valueString":"Period"}]},{"context":"period","contextType":"variable","element":"start","transform":"copy","parameter":[{"valueId":"authored"}]}]},{"name":"entry","source":[{"context":"bundle","element":"entry","variable":"entries"}],"target":[{"context":"condition","contextType":"variable","element":"evidence","variable":"evidence"},{"context":"evidence","contextType":"variable","element":"detail","variable":"detailReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"resource","source":[{"context":"entries","element":"resource","variable":"obs3","condition":"code.coding.code = '88124-3'"}],"target":[{"context":"detailReference","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs3"}]}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"condition","contextType":"variable","element":"subject","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"condition-entry-request","source":[{"context":"src"}],"target":[{"context":"entry","contextType":"variable","element":"request","variable":"request"}],"rule":[{"name":"condition-request-method","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"method","transform":"copy","parameter":[{"valueString":"POST"}]}]},{"name":"condition-request-url","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"url","transform":"copy","parameter":[{"valueString":"Condition"}]}]}]}]},{"name":"SetConditionFullUrl","typeMode":"none","input":[{"name":"condition","type":"sdohccCondition","mode":"source"},{"name":"entry","mode":"target"}],"rule":[{"name":"id","source":[{"context":"condition","element":"id","variable":"id"}],"target":[{"context":"entry","contextType":"variable","element":"fullUrl","transform":"append","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/Condition/"},{"valueId":"id"}]}]}]}]}