{"resourceType":"StructureMap","id":"SDOHCC-StructureMapPRAPARE","text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\"><pre class=\"fml\">\r\n<b>map</b><span style=\"color: navy\"> &quot;</span>http://hl7.org/fhir/us/sdoh-clinicalcare/StructureMap/SDOHCC-StructureMapPRAPARE<span style=\"color: navy\">&quot; = &quot;</span>SDOHCCStructureMapPRAPARE<span style=\"color: navy\">&quot;\r\n\r\n</span><b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"http://hl7.org/fhir/uv/sdc/STU3/StructureDefinition-sdc-questionnaireresponse.html\" title=\"SDC Questionnaire Response\">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse</a><span style=\"color: navy\">&quot; </span><b>alias </b>questionnaireResponse <b>as </b><b>source</b>\r\n<b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"http://hl7.org/fhir/R4/bundle.html\" title=\"Bundle\">http://hl7.org/fhir/StructureDefinition/Bundle</a><span style=\"color: navy\">&quot; </span><b>as </b><b>target</b>\r\n<b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"http://hl7.org/fhir/R4/observation.html\" title=\"Observation\">http://hl7.org/fhir/StructureDefinition/Observation</a><span style=\"color: navy\">&quot; </span><b>as </b><b>target</b>\r\n<b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"StructureDefinition-SDOHCC-Condition.html\" title=\"SDOHCC Condition\">http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition</a><span style=\"color: navy\">&quot; </span><b>alias </b>sdohccCondition <b>as </b><b>target</b>\r\n<b>uses</b><span style=\"color: navy\"> &quot;</span><a href=\"StructureDefinition-SDOHCC-ObservationScreeningResponse.html\" title=\"SDOHCC Observation Screening Response\">http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse</a><span style=\"color: navy\">&quot; </span><b>alias </b>sdohccObservation <b>as </b><b>target</b>\r\n\r\n<b>group </b>sdohMapping<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>target</b> <span style=\"color: maroon\">bundle</span><span style=\"color: navy\"> : </span>Bundle<span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>bundle.id = <span style=\"color: blue\">'SDOHCC-BundlePRAPAREExample'</span> <i>&quot;bundle-id&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>bundle.type = <span style=\"color: blue\">'transaction'</span> <i>&quot;bundle-type&quot;</i><span style=\"color: navy\">;</span>\r\n  src.item<b> as </b><span style=\"color: maroon\">rootItem</span><span style=\"color: navy\"><b> -&gt; </b></span>bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><b> then </b>rootContent<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">rootItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccObservation'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">groupObservation</span><b> then </b>TransformGroupObservation<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">groupObservation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;bundle-group-obsn&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>rootContent<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">qResponse</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">rootItem</span>, <b>target</b> <span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  rootItem.item<b> as </b><span style=\"color: maroon\">groupItem</span><span style=\"color: navy\"><b> -&gt; </b></span>bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><b> then </b>groupContent<span style=\"color: navy\">(</span><span style=\"color: maroon\">qResponse</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">groupItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>groupContent<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">qResponse</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">groupItem</span>, <b>target</b> <span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  groupItem.item<b> as </b><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\"><b> -&gt; </b></span>bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><b> then </b>itemContent<span style=\"color: navy\">(</span><span style=\"color: maroon\">qResponse</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>itemContent<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">qResponse</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">answerItem</span>, <b>target</b> <span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  answerItem<b> where </b>(answerItem.linkId != '/93043-8/32624-9') and (answerItem.linkId != '/93041-2/93031-3') and (answerItem.linkId != '/93041-2/93030-5')<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccObservation'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">observation</span><b> then </b>TransformObservation<span style=\"color: navy\">(</span><span style=\"color: maroon\">qResponse</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span> <i>&quot;obsn&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem.answer<b> as </b><span style=\"color: maroon\">answer</span><b> where </b>(answerItem.linkId = '/93043-8/32624-9') or (answerItem.linkId = '/93041-2/93031-3') or (answerItem.linkId = '/93041-2/93030-5')<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccObservation'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">observation</span><b> then </b>TransformObservation<span style=\"color: navy\">(</span><span style=\"color: maroon\">qResponse</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span><span style=\"color: navy\">, </span>SetValueCodeableConceptFromAnswer<span style=\"color: navy\">(</span><span style=\"color: maroon\">answer</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetValueCodeableConceptFromAnswer<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">answer</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  answer<span style=\"color: navy\"><b> -&gt; </b></span>observation.value = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    answer.value<b> as </b><span style=\"color: maroon\">coding</span><span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <span style=\"color: maroon\">coding</span><b> as </b><span style=\"color: maroon\">newCoding</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-value&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformObservation<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">answerItem</span>, <b>source</b> <span style=\"color: maroon\">bundle</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\"> : </span>sdohccObservation, <b>target</b> <span style=\"color: maroon\">entry</span>, <b>target</b> <span style=\"color: maroon\">bundle</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.id = <b>uuid</b><span style=\"color: navy\">(</span><span style=\"color: navy\">)</span><b> then </b>SetObservationFullUrl<span style=\"color: navy\">(</span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;obsn-full-url&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.status = <span style=\"color: blue\">'final'</span> <i>&quot;obsn-status&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/observation-category'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'social-history'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Social History'</span><span style=\"color: navy\">)</span> <i>&quot;obsn-cat-social-history&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/observation-category'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'survey'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Survey'</span><span style=\"color: navy\">)</span> <i>&quot;obsn-cat-survey&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>observation.meta = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Meta'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newMeta</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newMeta.profile = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse'</span> <i>&quot;obsn-meta-profile&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-meta&quot;</i><span style=\"color: navy\">;</span>\r\n  src.authored<b> as </b><span style=\"color: maroon\">authored</span><span style=\"color: navy\"><b> -&gt; </b></span> observation.issued = <span style=\"color: maroon\">authored</span><span style=\"color: navy\">, </span> observation.effective = <span style=\"color: maroon\">authored</span><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.subject = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.performer = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.derivedFrom = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    id<span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'QuestionnaireResponse/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span> <i>&quot;obsn-derived-from-reference&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-derived-from&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/56051-6'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'56051-6'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-ethnicity&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/56051-6'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/32624-9'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'32624-9'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span> <i>&quot;obs-code-race&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/32624-9'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/93035-4'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93035-4'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-farm-worker-status&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/93035-4'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/93034-7'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93034-7'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-vet-status&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/93034-7'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'veteran-status'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Veteran Status'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/54899-0'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'54899-0'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-eng-prof&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93043-8/54899-0'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93042-0/63512-8'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'63512-8'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    answerItem.answer<b> as </b><span style=\"color: maroon\">answer</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.value = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Quantity'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newQty</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      answer.value<b> as </b><span style=\"color: maroon\">vs</span><span style=\"color: navy\"><b> -&gt; </b></span>newQty.value = <span style=\"color: maroon\">vs</span> <i>&quot;obsn-qty-value&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newQty.unit = <span style=\"color: blue\">'{#}'</span> <i>&quot;obsn-qty-unit&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newQty.system = <span style=\"color: blue\">'http://unitsofmeasure.org'</span> <i>&quot;obsn-qty-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newQty.code = <span style=\"color: blue\">'{#}'</span> <i>&quot;obsn-qty-code&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-value&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-code-household-size&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93042-0/63512-8'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93042-0/71802-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'71802-3'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-housing&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93042-0/71802-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'homelessness'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Homelessness'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93042-0/93033-9'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93033-9'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-housing-status&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93042-0/93033-9'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'housing-instability'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Housing Instability'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93042-0/56799-0'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'56799-0'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValue<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-neighborhood&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93042-0/56799-0'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/82589-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'82589-3'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-education&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/82589-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'educational-attainment'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Educational Attainment'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/67875-5'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'67875-5'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-employment&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/67875-5'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'employment-status'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Employment Status'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/76437-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'76437-3'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-insurance&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/76437-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'health-insurance-coverage-status'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Health Insurance Coverage Status'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/63586-2'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'63586-2'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    answerItem.answer<b> as </b><span style=\"color: maroon\">answer</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.value = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Quantity'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newQty</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      answer.value<b> as </b><span style=\"color: maroon\">vs</span><span style=\"color: navy\"><b> -&gt; </b></span>newQty.value = <span style=\"color: maroon\">vs</span> <i>&quot;obsn-qty-value&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newQty.unit = <span style=\"color: blue\">'/a'</span> <i>&quot;obsn-qty-unit&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newQty.system = <span style=\"color: blue\">'http://unitsofmeasure.org'</span> <i>&quot;obsn-qty-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newQty.code = <span style=\"color: blue\">'/a'</span> <i>&quot;obsn-qty-code&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-value&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-code-household-income&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/63586-2'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/93031-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93031-3'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span> <i>&quot;obsn-code-material-security&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/93031-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'material-hardship'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Material Hardship'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/93030-5'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93030-5'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span> <i>&quot;obsn-code-transportation&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93041-2/93030-5'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'transportation-insecurity'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Transportation Insecurity'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93040-4/93029-7'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93029-7'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-soc-integ&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93040-4/93029-7'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'social-connection'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Social Connection'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93040-4/93038-8'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93038-8'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-stress&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93040-4/93038-8'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'stress'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Stress'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93039-6/93028-9'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93028-9'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-incarceration&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93039-6/93028-9'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93039-6/93027-1'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93027-1'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-refugee&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93039-6/93027-1'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93039-6/93026-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93026-3'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-safety&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93039-6/93026-3'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'sdoh-category-unspecified'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'SDOH Category Unspecified'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93039-6/76501-6'<span style=\"color: navy\"><b> -&gt; </b></span>observation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'76501-6'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">code</span><b> then </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><span style=\"color: maroon\">answerItem</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span> <i>&quot;obsn-code-dom-violence&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>linkId = '/93039-6/76501-6'<span style=\"color: navy\"><b> -&gt; </b></span>observation.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;obsn-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'intimate-partner-violence'</span> <i>&quot;obsn-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Intimate Partner Violence'</span> <i>&quot;obsn-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;obsn-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>(linkId = '/93042-0/71802-3') and (answer.value.code = 'LA30190-5')<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccCondition'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">condition</span><b> then </b>TransformCondition<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">condition</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">, </span>SetConditionCodeAndEvidence1<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">condition</span><span style=\"color: navy\">)</span> <i>&quot;condition-homeless&quot;</i><span style=\"color: navy\">;</span>\r\n  answerItem<b> where </b>(linkId = '/93041-2/67875-5') and (answer.value.code = 'LA17956-6')<span style=\"color: navy\"><b> -&gt; </b></span> bundle.entry<b> as </b><span style=\"color: maroon\">entry</span><span style=\"color: navy\">, </span> entry.resource = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'sdohccCondition'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">condition</span><b> then </b>TransformCondition<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">condition</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\">, </span>SetConditionCodeAndEvidence2<span style=\"color: navy\">(</span><span style=\"color: maroon\">src</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">bundle</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">condition</span><span style=\"color: navy\">)</span> <i>&quot;condition-unemployed&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>entry.request<b> as </b><span style=\"color: maroon\">request</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>request.method = <span style=\"color: blue\">'POST'</span> <i>&quot;obsn-request-method&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>request.url = <span style=\"color: blue\">'Observation'</span> <i>&quot;obsn-request-url&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-entry-request&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetValue<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">answerItem</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  answerItem.answer<b> as </b><span style=\"color: maroon\">answer</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.id<b> as </b><span style=\"color: maroon\">id</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    answer.value<b> as </b><span style=\"color: maroon\">vs</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.value = <span style=\"color: maroon\">vs</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetValueCodeableConcept<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src.answer<b> as </b><span style=\"color: maroon\">answer</span><span style=\"color: navy\"><b> -&gt; </b></span>observation.value = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    answer.value<b> as </b><span style=\"color: maroon\">coding</span><span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <span style=\"color: maroon\">coding</span><b> as </b><span style=\"color: maroon\">newCoding</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetValuesToComponents<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">answerItem</span>, <b>source</b> <span style=\"color: maroon\">srcObservation</span>, <b>target</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  answerItem.answer<b> as </b><span style=\"color: maroon\">answer</span><span style=\"color: navy\"><b> -&gt; </b></span> observation.component<b> as </b><span style=\"color: maroon\">newComponent</span><span style=\"color: navy\">, </span> newComponent.value = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    answer.value<b> as </b><span style=\"color: maroon\">coding</span><span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <span style=\"color: maroon\">coding</span><b> as </b><span style=\"color: maroon\">newCoding</span><span style=\"color: navy\">;</span>\r\n    srcObservation.code<b> as </b><span style=\"color: maroon\">code</span><span style=\"color: navy\"><b> -&gt; </b></span>newComponent.code = <span style=\"color: maroon\">code</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetObservationFullUrl<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">observation</span><span style=\"color: navy\"> : </span>Observation, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  observation.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>entry.fullUrl = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/Observation/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformCondition<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">bundle</span>, <b>target</b> <span style=\"color: maroon\">condition</span><span style=\"color: navy\"> : </span>sdohccCondition, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.id = <b>uuid</b><span style=\"color: navy\">(</span><span style=\"color: navy\">)</span><b> then </b>SetConditionFullUrl<span style=\"color: navy\">(</span><span style=\"color: maroon\">condition</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;condition-full-url&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.meta = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Meta'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newMeta</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newMeta.profile = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition'</span> <i>&quot;condition-meta-profile&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;conditionMeta&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.clinicalStatus = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/condition-clinical'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'active'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Active'</span><span style=\"color: navy\">)</span> <i>&quot;condition-clinical-status&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.verificationStatus = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/condition-ver-status'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'unconfirmed'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Unconfirmed'</span><span style=\"color: navy\">)</span> <i>&quot;condition-verification-status&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/core/CodeSystem/condition-category'</span> <i>&quot;condition-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'health-concern'</span> <i>&quot;condition-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Health Concern'</span> <i>&quot;condition-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  src.authored<b> as </b><span style=\"color: maroon\">authored</span><span style=\"color: navy\"><b> -&gt; </b></span> condition.onset = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Period'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">period</span><span style=\"color: navy\">, </span> period.start = <span style=\"color: maroon\">authored</span> <i>&quot;condition-onset&quot;</i><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>condition.subject = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>condition.asserter = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>entry.request<b> as </b><span style=\"color: maroon\">request</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>request.method = <span style=\"color: blue\">'POST'</span> <i>&quot;condition-request-method&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>request.url = <span style=\"color: blue\">'Condition'</span> <i>&quot;condition-request-url&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-entry-request&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetConditionFullUrl<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">condition</span><span style=\"color: navy\"> : </span>sdohccCondition, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  condition.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>entry.fullUrl = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/Condition/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetConditionCodeAndEvidence1<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">bundle</span>, <b>target</b> <span style=\"color: maroon\">condition</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.code = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCodeCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCodeCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://snomed.info/sct'</span> <i>&quot;condition-code-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'32911000'</span> <i>&quot;condition-code-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Homeless'</span> <i>&quot;condition-code-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-coding&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>newCodeCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding2</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.system = <span style=\"color: blue\">'http://hl7.org/fhir/sid/icd-10-cm'</span> <i>&quot;condition-code-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.code = <span style=\"color: blue\">'Z59.0'</span> <i>&quot;condition-code-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.display = <span style=\"color: blue\">'Homelessness'</span> <i>&quot;condition-code-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-code&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;condition-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'homelessness'</span> <i>&quot;condition-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Homelessness'</span> <i>&quot;condition-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  bundle.entry<b> as </b><span style=\"color: maroon\">entries</span><span style=\"color: navy\"><b> -&gt; </b></span> condition.evidence<b> as </b><span style=\"color: maroon\">evidence</span><span style=\"color: navy\">, </span> evidence.detail = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">detailReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    entries.resource<b> as </b><span style=\"color: maroon\">obs</span><b> where </b>code.coding.code = '71802-3'<span style=\"color: navy\"><b> -&gt; </b></span>detailReference.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs</span><span style=\"color: navy\">)</span> <i>&quot;condition-evidence&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>SetConditionCodeAndEvidence2<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">bundle</span>, <b>target</b> <span style=\"color: maroon\">condition</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.code = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCodeCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCodeCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://snomed.info/sct'</span> <i>&quot;condition-code-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'73438004'</span> <i>&quot;condition-code-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Unemployed'</span> <i>&quot;condition-code-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-coding&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>newCodeCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding2</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.system = <span style=\"color: blue\">'http://hl7.org/fhir/sid/icd-10-cm'</span> <i>&quot;condition-code-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.code = <span style=\"color: blue\">'Z56.0'</span> <i>&quot;condition-code-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding2.display = <span style=\"color: blue\">'Unemployment, unspecified'</span> <i>&quot;condition-code-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-code&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>condition.category = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'CodeableConcept'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCC</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newCC.coding = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Coding'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newCoding</span><b> then</b><span style=\"color: navy\"> {\r\n</span>      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.system = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes'</span> <i>&quot;condition-cat-coding-system&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.code = <span style=\"color: blue\">'employment-status'</span> <i>&quot;condition-cat-coding-code&quot;</i><span style=\"color: navy\">;</span>\r\n      src<span style=\"color: navy\"><b> -&gt; </b></span>newCoding.display = <span style=\"color: blue\">'Employment Status'</span> <i>&quot;condition-cat-coding-display&quot;</i><span style=\"color: navy\">;</span>\r\n    <span style=\"color: navy\">}</span> <i>&quot;condition-cat-coding&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;condition-cat&quot;</i><span style=\"color: navy\">;</span>\r\n  bundle.entry<b> as </b><span style=\"color: maroon\">entries</span><span style=\"color: navy\"><b> -&gt; </b></span> condition.evidence<b> as </b><span style=\"color: maroon\">evidence</span><span style=\"color: navy\">, </span> evidence.detail = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">detailReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    entries.resource<b> as </b><span style=\"color: maroon\">obs</span><b> where </b>code.coding.code = '67875-5'<span style=\"color: navy\"><b> -&gt; </b></span>detailReference.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs</span><span style=\"color: navy\">)</span> <i>&quot;condition-evidence&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span><b>group </b>TransformGroupObservation<span style=\"color: navy\">(</span><b>source</b> <span style=\"color: maroon\">src</span><span style=\"color: navy\"> : </span>questionnaireResponse, <b>source</b> <span style=\"color: maroon\">bundle</span><span style=\"color: navy\"> : </span>Bundle, <b>target</b> <span style=\"color: maroon\">groupObservation</span><span style=\"color: navy\"> : </span>Observation, <b>target</b> <span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span><span style=\"color: navy\"> {\r\n</span>  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.id = <b>uuid</b><span style=\"color: navy\">(</span><span style=\"color: navy\">)</span><b> then </b>SetObservationFullUrl<span style=\"color: navy\">(</span><span style=\"color: maroon\">groupObservation</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">entry</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsnFullUrl&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.status = <span style=\"color: blue\">'final'</span> <i>&quot;grp-obsn-status&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.category = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/observation-category'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'social-history'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Social History'</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-cat-social-history&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.category = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://terminology.hl7.org/CodeSystem/observation-category'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'survey'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'Survey'</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-cat-survey&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.meta = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Meta'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newMeta</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>newMeta.profile = <span style=\"color: blue\">'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse'</span> <i>&quot;grp-obsn-meta-profile&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;grpObsMeta&quot;</i><span style=\"color: navy\">;</span>\r\n  src.authored<b> as </b><span style=\"color: maroon\">authored</span><span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.effective = <span style=\"color: maroon\">authored</span><span style=\"color: navy\">;</span>\r\n  src.subject<b> as </b><span style=\"color: maroon\">qSubject</span><span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.subject = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    qSubject.reference<b> as </b><span style=\"color: maroon\">qReference</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <span style=\"color: maroon\">qReference</span> <i>&quot;grp-obsn-subj-ref&quot;</i><span style=\"color: navy\">;</span>\r\n    qSubject.display<b> as </b><span style=\"color: maroon\">qDisplay</span><span style=\"color: navy\"><b> -&gt; </b></span>newReference.display = <span style=\"color: maroon\">qDisplay</span> <i>&quot;grp-obsn-subj-display&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;grp-obsn-subject&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.code = <b>cc</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'http://loinc.org'</span><span style=\"color: navy\">, </span><span style=\"color: blue\">'93025-5'</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-code&quot;</i><span style=\"color: navy\">;</span>\r\n  bundle.entry<b> as </b><span style=\"color: maroon\">entries</span><span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.hasMember = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">df</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    entries.resource<b> as </b><span style=\"color: maroon\">obs</span><b> where </b>status.exists() and hasMember.exists().not()<span style=\"color: navy\"><b> -&gt; </b></span>df.reference = <b>reference</b><span style=\"color: navy\">(</span><span style=\"color: maroon\">obs</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-has-member-reference&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;grp-obsn-has-member&quot;</i><span style=\"color: navy\">;</span>\r\n  src.id<b> as </b><span style=\"color: maroon\">id</span><span style=\"color: navy\"><b> -&gt; </b></span>groupObservation.derivedFrom = <b>create</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'Reference'</span><span style=\"color: navy\">)</span><b> as </b><span style=\"color: maroon\">newReference</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    id<span style=\"color: navy\"><b> -&gt; </b></span>newReference.reference = <b>append</b><span style=\"color: navy\">(</span><span style=\"color: blue\">'QuestionnaireResponse/'</span><span style=\"color: navy\">, </span><span style=\"color: maroon\">id</span><span style=\"color: navy\">)</span> <i>&quot;grp-obsn-derived-from-reference&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;grp-obsn-derived-from&quot;</i><span style=\"color: navy\">;</span>\r\n  src<span style=\"color: navy\"><b> -&gt; </b></span>entry.request<b> as </b><span style=\"color: maroon\">request</span><b> then</b><span style=\"color: navy\"> {\r\n</span>    src<span style=\"color: navy\"><b> -&gt; </b></span>request.method = <span style=\"color: blue\">'POST'</span> <i>&quot;obsn-request-method&quot;</i><span style=\"color: navy\">;</span>\r\n    src<span style=\"color: navy\"><b> -&gt; </b></span>request.url = <span style=\"color: blue\">'Observation'</span> <i>&quot;obsn-request-url&quot;</i><span style=\"color: navy\">;</span>\r\n  <span style=\"color: navy\">}</span> <i>&quot;obsn-entry-request&quot;</i><span style=\"color: navy\">;</span>\r\n<span style=\"color: navy\">}\r\n\r\n</span></pre></div>"},"url":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureMap/SDOHCC-StructureMapPRAPARE","version":"2.0.0-update","name":"SDOHCCStructureMapPRAPARE","status":"active","date":"2023-04-10T21:54:48+00:00","publisher":"HL7 International Patient Care WG","contact":[{"name":"HL7 International Patient Care WG","telecom":[{"system":"url","value":"http://www.hl7.org/Special/committees/patientcare"},{"system":"email","value":"patientcare@lists.hl7.org"}]}],"jurisdiction":[{"coding":[{"system":"urn:iso:std:iso:3166","code":"US","display":"United States of America"}]}],"structure":[{"url":"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse","mode":"source","alias":"questionnaireResponse"},{"url":"http://hl7.org/fhir/StructureDefinition/Bundle","mode":"target"},{"url":"http://hl7.org/fhir/StructureDefinition/Observation","mode":"target"},{"url":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition","mode":"target","alias":"sdohccCondition"},{"url":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse","mode":"target","alias":"sdohccObservation"}],"group":[{"name":"sdohMapping","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"bundle","type":"Bundle","mode":"target"}],"rule":[{"name":"bundle-id","source":[{"context":"src"}],"target":[{"context":"bundle","contextType":"variable","element":"id","transform":"copy","parameter":[{"valueString":"SDOHCC-BundlePRAPAREExample"}]}]},{"name":"bundle-type","source":[{"context":"src"}],"target":[{"context":"bundle","contextType":"variable","element":"type","transform":"copy","parameter":[{"valueString":"transaction"}]}]},{"name":"item","source":[{"context":"src","element":"item","variable":"rootItem"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"}],"dependent":[{"name":"rootContent","variable":["src","rootItem","bundle"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"bundle-group-obsn","source":[{"context":"src"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"groupObservation","transform":"create","parameter":[{"valueString":"sdohccObservation"}]}],"dependent":[{"name":"TransformGroupObservation","variable":["src","bundle","groupObservation","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]}]},{"name":"rootContent","typeMode":"none","input":[{"name":"qResponse","type":"questionnaireResponse","mode":"source"},{"name":"rootItem","mode":"source"},{"name":"bundle","mode":"target"}],"rule":[{"name":"item","source":[{"context":"rootItem","element":"item","variable":"groupItem"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"}],"dependent":[{"name":"groupContent","variable":["qResponse","groupItem","bundle"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]}]},{"name":"groupContent","typeMode":"none","input":[{"name":"qResponse","type":"questionnaireResponse","mode":"source"},{"name":"groupItem","mode":"source"},{"name":"bundle","mode":"target"}],"rule":[{"name":"item","source":[{"context":"groupItem","element":"item","variable":"answerItem"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"}],"dependent":[{"name":"itemContent","variable":["qResponse","answerItem","bundle"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]}]},{"name":"itemContent","typeMode":"none","input":[{"name":"qResponse","type":"questionnaireResponse","mode":"source"},{"name":"answerItem","mode":"source"},{"name":"bundle","mode":"target"}],"rule":[{"name":"obsn","source":[{"context":"answerItem","condition":"(answerItem.linkId != '/93043-8/32624-9') and (answerItem.linkId != '/93041-2/93031-3') and (answerItem.linkId != '/93041-2/93030-5')"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"observation","transform":"create","parameter":[{"valueString":"sdohccObservation"}]}],"dependent":[{"name":"TransformObservation","variable":["qResponse","answerItem","bundle","observation","entry","bundle"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"answer","source":[{"context":"answerItem","element":"answer","variable":"answer","condition":"(answerItem.linkId = '/93043-8/32624-9') or (answerItem.linkId = '/93041-2/93031-3') or (answerItem.linkId = '/93041-2/93030-5')"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"observation","transform":"create","parameter":[{"valueString":"sdohccObservation"}]}],"dependent":[{"name":"TransformObservation","variable":["qResponse","answerItem","bundle","observation","entry","bundle"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]},{"name":"SetValueCodeableConceptFromAnswer","variable":["answer","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]}]},{"name":"SetValueCodeableConceptFromAnswer","typeMode":"none","input":[{"name":"answer","mode":"source"},{"name":"observation","mode":"target"}],"rule":[{"name":"obsn-value","source":[{"context":"answer"}],"target":[{"context":"observation","contextType":"variable","element":"value","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"value","source":[{"context":"answer","element":"value","variable":"coding"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"copy","parameter":[{"valueId":"coding"}]}]}]}]},{"name":"TransformObservation","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"answerItem","mode":"source"},{"name":"bundle","mode":"source"},{"name":"observation","type":"sdohccObservation","mode":"target"},{"name":"entry","mode":"target"},{"name":"bundle","mode":"target"}],"rule":[{"name":"obsn-full-url","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"id","transform":"uuid"}],"dependent":[{"name":"SetObservationFullUrl","variable":["observation","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-status","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"status","transform":"copy","parameter":[{"valueString":"final"}]}]},{"name":"obsn-cat-social-history","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"category","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/observation-category"},{"valueString":"social-history"},{"valueString":"Social History"}]}]},{"name":"obsn-cat-survey","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"category","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/observation-category"},{"valueString":"survey"},{"valueString":"Survey"}]}]},{"name":"obsn-meta","source":[{"context":"src"}],"target":[{"context":"observation","contextType":"variable","element":"meta","variable":"newMeta","transform":"create","parameter":[{"valueString":"Meta"}]}],"rule":[{"name":"obsn-meta-profile","source":[{"context":"src"}],"target":[{"context":"newMeta","contextType":"variable","element":"profile","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"}]}]}]},{"name":"authored","source":[{"context":"src","element":"authored","variable":"authored"}],"target":[{"context":"observation","contextType":"variable","element":"issued","transform":"copy","parameter":[{"valueId":"authored"}]},{"context":"observation","contextType":"variable","element":"effective","transform":"copy","parameter":[{"valueId":"authored"}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"observation","contextType":"variable","element":"subject","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"observation","contextType":"variable","element":"performer","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"obsn-derived-from","source":[{"context":"src","element":"id","variable":"id"}],"target":[{"context":"observation","contextType":"variable","element":"derivedFrom","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"obsn-derived-from-reference","source":[{"context":"id"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"append","parameter":[{"valueString":"QuestionnaireResponse/"},{"valueId":"id"}]}]}]},{"name":"obsn-code-ethnicity","source":[{"context":"answerItem","condition":"linkId = '/93043-8/56051-6'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"56051-6"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93043-8/56051-6'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obs-code-race","source":[{"context":"answerItem","condition":"linkId = '/93043-8/32624-9'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"32624-9"}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93043-8/32624-9'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-farm-worker-status","source":[{"context":"answerItem","condition":"linkId = '/93043-8/93035-4'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93035-4"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93043-8/93035-4'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-vet-status","source":[{"context":"answerItem","condition":"linkId = '/93043-8/93034-7'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93034-7"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93043-8/93034-7'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"veteran-status"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Veteran Status"}]}]}]}]},{"name":"obsn-code-eng-prof","source":[{"context":"answerItem","condition":"linkId = '/93043-8/54899-0'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"54899-0"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93043-8/54899-0'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-household-size","source":[{"context":"answerItem","condition":"linkId = '/93042-0/63512-8'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"63512-8"}]}],"rule":[{"name":"obsn-value","source":[{"context":"answerItem","element":"answer","variable":"answer"}],"target":[{"context":"observation","contextType":"variable","element":"value","variable":"newQty","transform":"create","parameter":[{"valueString":"Quantity"}]}],"rule":[{"name":"obsn-qty-value","source":[{"context":"answer","element":"value","variable":"vs"}],"target":[{"context":"newQty","contextType":"variable","element":"value","transform":"copy","parameter":[{"valueId":"vs"}]}]},{"name":"obsn-qty-unit","source":[{"context":"src"}],"target":[{"context":"newQty","contextType":"variable","element":"unit","transform":"copy","parameter":[{"valueString":"{#}"}]}]},{"name":"obsn-qty-system","source":[{"context":"src"}],"target":[{"context":"newQty","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://unitsofmeasure.org"}]}]},{"name":"obsn-qty-code","source":[{"context":"src"}],"target":[{"context":"newQty","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"{#}"}]}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93042-0/63512-8'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-housing","source":[{"context":"answerItem","condition":"linkId = '/93042-0/71802-3'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"71802-3"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93042-0/71802-3'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"homelessness"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Homelessness"}]}]}]}]},{"name":"obsn-code-housing-status","source":[{"context":"answerItem","condition":"linkId = '/93042-0/93033-9'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93033-9"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93042-0/93033-9'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"housing-instability"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Housing Instability"}]}]}]}]},{"name":"obsn-code-neighborhood","source":[{"context":"answerItem","condition":"linkId = '/93042-0/56799-0'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"56799-0"}]}],"dependent":[{"name":"SetValue","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93042-0/56799-0'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-education","source":[{"context":"answerItem","condition":"linkId = '/93041-2/82589-3'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"82589-3"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93041-2/82589-3'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"educational-attainment"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Educational Attainment"}]}]}]}]},{"name":"obsn-code-employment","source":[{"context":"answerItem","condition":"linkId = '/93041-2/67875-5'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"67875-5"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93041-2/67875-5'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"employment-status"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Employment Status"}]}]}]}]},{"name":"obsn-code-insurance","source":[{"context":"answerItem","condition":"linkId = '/93041-2/76437-3'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"76437-3"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93041-2/76437-3'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"health-insurance-coverage-status"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Health Insurance Coverage Status"}]}]}]}]},{"name":"obsn-code-household-income","source":[{"context":"answerItem","condition":"linkId = '/93041-2/63586-2'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"63586-2"}]}],"rule":[{"name":"obsn-value","source":[{"context":"answerItem","element":"answer","variable":"answer"}],"target":[{"context":"observation","contextType":"variable","element":"value","variable":"newQty","transform":"create","parameter":[{"valueString":"Quantity"}]}],"rule":[{"name":"obsn-qty-value","source":[{"context":"answer","element":"value","variable":"vs"}],"target":[{"context":"newQty","contextType":"variable","element":"value","transform":"copy","parameter":[{"valueId":"vs"}]}]},{"name":"obsn-qty-unit","source":[{"context":"src"}],"target":[{"context":"newQty","contextType":"variable","element":"unit","transform":"copy","parameter":[{"valueString":"/a"}]}]},{"name":"obsn-qty-system","source":[{"context":"src"}],"target":[{"context":"newQty","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://unitsofmeasure.org"}]}]},{"name":"obsn-qty-code","source":[{"context":"src"}],"target":[{"context":"newQty","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"/a"}]}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93041-2/63586-2'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-material-security","source":[{"context":"answerItem","condition":"linkId = '/93041-2/93031-3'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93031-3"}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93041-2/93031-3'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"material-hardship"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Material Hardship"}]}]}]}]},{"name":"obsn-code-transportation","source":[{"context":"answerItem","condition":"linkId = '/93041-2/93030-5'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93030-5"}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93041-2/93030-5'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"transportation-insecurity"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Transportation Insecurity"}]}]}]}]},{"name":"obsn-code-soc-integ","source":[{"context":"answerItem","condition":"linkId = '/93040-4/93029-7'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93029-7"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93040-4/93029-7'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"social-connection"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Social Connection"}]}]}]}]},{"name":"obsn-code-stress","source":[{"context":"answerItem","condition":"linkId = '/93040-4/93038-8'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93038-8"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93040-4/93038-8'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"stress"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Stress"}]}]}]}]},{"name":"obsn-code-incarceration","source":[{"context":"answerItem","condition":"linkId = '/93039-6/93028-9'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93028-9"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93039-6/93028-9'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-refugee","source":[{"context":"answerItem","condition":"linkId = '/93039-6/93027-1'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93027-1"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93039-6/93027-1'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-safety","source":[{"context":"answerItem","condition":"linkId = '/93039-6/93026-3'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93026-3"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93039-6/93026-3'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"sdoh-category-unspecified"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"SDOH Category Unspecified"}]}]}]}]},{"name":"obsn-code-dom-violence","source":[{"context":"answerItem","condition":"linkId = '/93039-6/76501-6'"}],"target":[{"context":"observation","contextType":"variable","element":"code","variable":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"76501-6"}]}],"dependent":[{"name":"SetValueCodeableConcept","variable":["answerItem","observation"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-cat","source":[{"context":"answerItem","condition":"linkId = '/93039-6/76501-6'"}],"target":[{"context":"observation","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"obsn-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"obsn-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"obsn-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"intimate-partner-violence"}]}]},{"name":"obsn-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Intimate Partner Violence"}]}]}]}]},{"name":"condition-homeless","source":[{"context":"answerItem","condition":"(linkId = '/93042-0/71802-3') and (answer.value.code = 'LA30190-5')"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"condition","transform":"create","parameter":[{"valueString":"sdohccCondition"}]}],"dependent":[{"name":"TransformCondition","variable":["src","bundle","condition","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]},{"name":"SetConditionCodeAndEvidence1","variable":["src","bundle","condition"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"condition-unemployed","source":[{"context":"answerItem","condition":"(linkId = '/93041-2/67875-5') and (answer.value.code = 'LA17956-6')"}],"target":[{"context":"bundle","contextType":"variable","element":"entry","variable":"entry"},{"context":"entry","contextType":"variable","element":"resource","variable":"condition","transform":"create","parameter":[{"valueString":"sdohccCondition"}]}],"dependent":[{"name":"TransformCondition","variable":["src","bundle","condition","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]},{"name":"SetConditionCodeAndEvidence2","variable":["src","bundle","condition"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"obsn-entry-request","source":[{"context":"src"}],"target":[{"context":"entry","contextType":"variable","element":"request","variable":"request"}],"rule":[{"name":"obsn-request-method","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"method","transform":"copy","parameter":[{"valueString":"POST"}]}]},{"name":"obsn-request-url","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"url","transform":"copy","parameter":[{"valueString":"Observation"}]}]}]}]},{"name":"SetValue","typeMode":"none","input":[{"name":"answerItem","mode":"source"},{"name":"observation","mode":"target"}],"rule":[{"name":"answer","source":[{"context":"answerItem","element":"answer","variable":"answer"}],"target":[{"context":"observation","contextType":"variable","element":"id","variable":"id"}],"rule":[{"name":"value","source":[{"context":"answer","element":"value","variable":"vs"}],"target":[{"context":"observation","contextType":"variable","element":"value","transform":"copy","parameter":[{"valueId":"vs"}]}]}]}]},{"name":"SetValueCodeableConcept","typeMode":"none","input":[{"name":"src","mode":"source"},{"name":"observation","mode":"target"}],"rule":[{"name":"answer","source":[{"context":"src","element":"answer","variable":"answer"}],"target":[{"context":"observation","contextType":"variable","element":"value","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"value","source":[{"context":"answer","element":"value","variable":"coding"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"copy","parameter":[{"valueId":"coding"}]}]}]}]},{"name":"SetValuesToComponents","typeMode":"none","input":[{"name":"answerItem","mode":"source"},{"name":"srcObservation","mode":"source"},{"name":"observation","mode":"target"}],"rule":[{"name":"answer","source":[{"context":"answerItem","element":"answer","variable":"answer"}],"target":[{"context":"observation","contextType":"variable","element":"component","variable":"newComponent"},{"context":"newComponent","contextType":"variable","element":"value","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"value","source":[{"context":"answer","element":"value","variable":"coding"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"copy","parameter":[{"valueId":"coding"}]}]},{"name":"code","source":[{"context":"srcObservation","element":"code","variable":"code"}],"target":[{"context":"newComponent","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueId":"code"}]}]}]}]},{"name":"SetObservationFullUrl","typeMode":"none","input":[{"name":"observation","type":"Observation","mode":"source"},{"name":"entry","mode":"target"}],"rule":[{"name":"id","source":[{"context":"observation","element":"id","variable":"id"}],"target":[{"context":"entry","contextType":"variable","element":"fullUrl","transform":"append","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/Observation/"},{"valueId":"id"}]}]}]},{"name":"TransformCondition","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"bundle","mode":"source"},{"name":"condition","type":"sdohccCondition","mode":"target"},{"name":"entry","mode":"target"}],"rule":[{"name":"condition-full-url","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"id","transform":"uuid"}],"dependent":[{"name":"SetConditionFullUrl","variable":["condition","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"conditionMeta","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"meta","variable":"newMeta","transform":"create","parameter":[{"valueString":"Meta"}]}],"rule":[{"name":"condition-meta-profile","source":[{"context":"src"}],"target":[{"context":"newMeta","contextType":"variable","element":"profile","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition"}]}]}]},{"name":"condition-clinical-status","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"clinicalStatus","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/condition-clinical"},{"valueString":"active"},{"valueString":"Active"}]}]},{"name":"condition-verification-status","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"verificationStatus","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/condition-ver-status"},{"valueString":"unconfirmed"},{"valueString":"Unconfirmed"}]}]},{"name":"condition-cat","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"condition-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/core/CodeSystem/condition-category"}]}]},{"name":"condition-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"health-concern"}]}]},{"name":"condition-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Health Concern"}]}]}]}]},{"name":"condition-onset","source":[{"context":"src","element":"authored","variable":"authored"}],"target":[{"context":"condition","contextType":"variable","element":"onset","variable":"period","transform":"create","parameter":[{"valueString":"Period"}]},{"context":"period","contextType":"variable","element":"start","transform":"copy","parameter":[{"valueId":"authored"}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"condition","contextType":"variable","element":"subject","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"condition","contextType":"variable","element":"asserter","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"reference","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"condition-entry-request","source":[{"context":"src"}],"target":[{"context":"entry","contextType":"variable","element":"request","variable":"request"}],"rule":[{"name":"condition-request-method","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"method","transform":"copy","parameter":[{"valueString":"POST"}]}]},{"name":"condition-request-url","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"url","transform":"copy","parameter":[{"valueString":"Condition"}]}]}]}]},{"name":"SetConditionFullUrl","typeMode":"none","input":[{"name":"condition","type":"sdohccCondition","mode":"source"},{"name":"entry","mode":"target"}],"rule":[{"name":"id","source":[{"context":"condition","element":"id","variable":"id"}],"target":[{"context":"entry","contextType":"variable","element":"fullUrl","transform":"append","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/Condition/"},{"valueId":"id"}]}]}]},{"name":"SetConditionCodeAndEvidence1","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"bundle","mode":"source"},{"name":"condition","mode":"target"}],"rule":[{"name":"condition-code","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"code","variable":"newCodeCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"condition-coding","source":[{"context":"src"}],"target":[{"context":"newCodeCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-code-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://snomed.info/sct"}]}]},{"name":"condition-code-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"32911000"}]}]},{"name":"condition-code-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Homeless"}]}]}]},{"name":"condition-coding","source":[{"context":"src"}],"target":[{"context":"newCodeCC","contextType":"variable","element":"coding","variable":"newCoding2","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-code-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/sid/icd-10-cm"}]}]},{"name":"condition-code-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"Z59.0"}]}]},{"name":"condition-code-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Homelessness"}]}]}]}]},{"name":"condition-cat","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"condition-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"condition-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"homelessness"}]}]},{"name":"condition-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Homelessness"}]}]}]}]},{"name":"entry","source":[{"context":"bundle","element":"entry","variable":"entries"}],"target":[{"context":"condition","contextType":"variable","element":"evidence","variable":"evidence"},{"context":"evidence","contextType":"variable","element":"detail","variable":"detailReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"condition-evidence","source":[{"context":"entries","element":"resource","variable":"obs","condition":"code.coding.code = '71802-3'"}],"target":[{"context":"detailReference","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs"}]}]}]}]},{"name":"SetConditionCodeAndEvidence2","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"bundle","mode":"source"},{"name":"condition","mode":"target"}],"rule":[{"name":"condition-code","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"code","variable":"newCodeCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"condition-coding","source":[{"context":"src"}],"target":[{"context":"newCodeCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-code-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://snomed.info/sct"}]}]},{"name":"condition-code-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"73438004"}]}]},{"name":"condition-code-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Unemployed"}]}]}]},{"name":"condition-coding","source":[{"context":"src"}],"target":[{"context":"newCodeCC","contextType":"variable","element":"coding","variable":"newCoding2","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-code-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/sid/icd-10-cm"}]}]},{"name":"condition-code-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"Z56.0"}]}]},{"name":"condition-code-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding2","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Unemployment, unspecified"}]}]}]}]},{"name":"condition-cat","source":[{"context":"src"}],"target":[{"context":"condition","contextType":"variable","element":"category","variable":"newCC","transform":"create","parameter":[{"valueString":"CodeableConcept"}]}],"rule":[{"name":"condition-cat-coding","source":[{"context":"src"}],"target":[{"context":"newCC","contextType":"variable","element":"coding","variable":"newCoding","transform":"create","parameter":[{"valueString":"Coding"}]}],"rule":[{"name":"condition-cat-coding-system","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"system","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"}]}]},{"name":"condition-cat-coding-code","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"code","transform":"copy","parameter":[{"valueString":"employment-status"}]}]},{"name":"condition-cat-coding-display","source":[{"context":"src"}],"target":[{"context":"newCoding","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueString":"Employment Status"}]}]}]}]},{"name":"entry","source":[{"context":"bundle","element":"entry","variable":"entries"}],"target":[{"context":"condition","contextType":"variable","element":"evidence","variable":"evidence"},{"context":"evidence","contextType":"variable","element":"detail","variable":"detailReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"condition-evidence","source":[{"context":"entries","element":"resource","variable":"obs","condition":"code.coding.code = '67875-5'"}],"target":[{"context":"detailReference","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs"}]}]}]}]},{"name":"TransformGroupObservation","typeMode":"none","input":[{"name":"src","type":"questionnaireResponse","mode":"source"},{"name":"bundle","type":"Bundle","mode":"source"},{"name":"groupObservation","type":"Observation","mode":"target"},{"name":"entry","mode":"target"}],"rule":[{"name":"grp-obsnFullUrl","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"id","transform":"uuid"}],"dependent":[{"name":"SetObservationFullUrl","variable":["groupObservation","entry"],"_variable":[{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]},{"extension":[{"url":"http://hl7.org/fhir/tools/StructureDefinition/original-item-type","valueUrl":"id"}]}]}]},{"name":"grp-obsn-status","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"status","transform":"copy","parameter":[{"valueString":"final"}]}]},{"name":"grp-obsn-cat-social-history","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"category","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/observation-category"},{"valueString":"social-history"},{"valueString":"Social History"}]}]},{"name":"grp-obsn-cat-survey","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"category","transform":"cc","parameter":[{"valueString":"http://terminology.hl7.org/CodeSystem/observation-category"},{"valueString":"survey"},{"valueString":"Survey"}]}]},{"name":"grpObsMeta","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"meta","variable":"newMeta","transform":"create","parameter":[{"valueString":"Meta"}]}],"rule":[{"name":"grp-obsn-meta-profile","source":[{"context":"src"}],"target":[{"context":"newMeta","contextType":"variable","element":"profile","transform":"copy","parameter":[{"valueString":"http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"}]}]}]},{"name":"authored","source":[{"context":"src","element":"authored","variable":"authored"}],"target":[{"context":"groupObservation","contextType":"variable","element":"effective","transform":"copy","parameter":[{"valueId":"authored"}]}]},{"name":"grp-obsn-subject","source":[{"context":"src","element":"subject","variable":"qSubject"}],"target":[{"context":"groupObservation","contextType":"variable","element":"subject","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"grp-obsn-subj-ref","source":[{"context":"qSubject","element":"reference","variable":"qReference"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"copy","parameter":[{"valueId":"qReference"}]}]},{"name":"grp-obsn-subj-display","source":[{"context":"qSubject","element":"display","variable":"qDisplay"}],"target":[{"context":"newReference","contextType":"variable","element":"display","transform":"copy","parameter":[{"valueId":"qDisplay"}]}]}]},{"name":"grp-obsn-code","source":[{"context":"src"}],"target":[{"context":"groupObservation","contextType":"variable","element":"code","transform":"cc","parameter":[{"valueString":"http://loinc.org"},{"valueString":"93025-5"}]}]},{"name":"grp-obsn-has-member","source":[{"context":"bundle","element":"entry","variable":"entries"}],"target":[{"context":"groupObservation","contextType":"variable","element":"hasMember","variable":"df","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"grp-obsn-has-member-reference","source":[{"context":"entries","element":"resource","variable":"obs","condition":"status.exists() and hasMember.exists().not()"}],"target":[{"context":"df","contextType":"variable","element":"reference","transform":"reference","parameter":[{"valueId":"obs"}]}]}]},{"name":"grp-obsn-derived-from","source":[{"context":"src","element":"id","variable":"id"}],"target":[{"context":"groupObservation","contextType":"variable","element":"derivedFrom","variable":"newReference","transform":"create","parameter":[{"valueString":"Reference"}]}],"rule":[{"name":"grp-obsn-derived-from-reference","source":[{"context":"id"}],"target":[{"context":"newReference","contextType":"variable","element":"reference","transform":"append","parameter":[{"valueString":"QuestionnaireResponse/"},{"valueId":"id"}]}]}]},{"name":"obsn-entry-request","source":[{"context":"src"}],"target":[{"context":"entry","contextType":"variable","element":"request","variable":"request"}],"rule":[{"name":"obsn-request-method","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"method","transform":"copy","parameter":[{"valueString":"POST"}]}]},{"name":"obsn-request-url","source":[{"context":"src"}],"target":[{"context":"request","contextType":"variable","element":"url","transform":"copy","parameter":[{"valueString":"Observation"}]}]}]}]}]}